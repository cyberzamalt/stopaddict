<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StopAddict v3</title>
  <link rel="stylesheet" href="./css/app.css" />
</head>

<body>
  <!-- =========================
       ğŸ”’ FenÃªtre d'identitÃ© / majoritÃ©
       ========================= -->
  <dialog id="identity-dialog">
    <h2>VÃ©rification d'identitÃ©</h2>
    <p>Pour utiliser StopAddict, tu dois confirmer que tu as plus de 18 ans.</p>
    <label>PrÃ©nom :
      <input type="text" id="identity-name" placeholder="Ton prÃ©nom" />
    </label>
    <label>Ã‚ge :
      <input type="number" id="identity-age" min="10" max="99" />
    </label>
    <label>
      <input type="checkbox" id="identity-major" />
      Jâ€™atteste avoir plus de 18 ans et jâ€™accepte les <a href="./docs/CGU.pdf" target="_blank">CGU</a>.
    </label>
    <div class="dialog-buttons">
      <button id="identity-confirm">Confirmer</button>
    </div>
  </dialog>

  <!-- =========================
       ğŸ§­ Navigation principale
       ========================= -->
  <nav id="main-nav">
    <button id="nav-home">ğŸ  Accueil</button>
    <button id="nav-stats">ğŸ“Š Stats</button>
    <button id="nav-calendar">ğŸ“… Calendrier</button>
    <button id="nav-habits">ğŸ¯ Habitudes</button>
    <button id="nav-settings">âš™ï¸ RÃ©glages</button>
    <button id="nav-console">ğŸ§° Console</button>
  </nav>

  <!-- =========================
       ğŸ  Accueil
       ========================= -->
  <section id="page-home" class="page">
    <h2 id="greeting">Salut !</h2>

    <div id="home-counters">
      <div class="counter">
        <span>Clopes</span>
        <button id="ctr-cigs-dec">âˆ’</button>
        <span id="val-cigs">0</span>
        <button id="ctr-cigs-inc">+</button>
      </div>

      <div class="counter">
        <span>Joints</span>
        <button id="ctr-weed-dec">âˆ’</button>
        <span id="val-weed">0</span>
        <button id="ctr-weed-inc">+</button>
      </div>

      <div class="counter-group">
        <h4>Alcool</h4>
        <div class="counter">
          <span>Global</span>
          <button id="ctr-alcohol-dec">âˆ’</button>
          <span id="val-alcohol">0</span>
          <button id="ctr-alcohol-inc">+</button>
        </div>
        <div class="counter sub">
          <span>BiÃ¨re</span>
          <button id="ctr-beer-dec">âˆ’</button>
          <span id="val-beer">0</span>
          <button id="ctr-beer-inc">+</button>
        </div>
        <div class="counter sub">
          <span>Fort</span>
          <button id="ctr-hard-dec">âˆ’</button>
          <span id="val-hard">0</span>
          <button id="ctr-hard-inc">+</button>
        </div>
        <div class="counter sub">
          <span>Liqueur</span>
          <button id="ctr-liqueur-dec">âˆ’</button>
          <span id="val-liqueur">0</span>
          <button id="ctr-liqueur-inc">+</button>
        </div>
      </div>
    </div>

    <div id="home-actions">
      <button id="btn-reset-today">Remettre Ã  zÃ©ro (aujourdâ€™hui)</button>
    </div>

    <div id="home-kpis">
      <div><strong>CoÃ»t estimÃ© :</strong> <span id="kpi-cost">0 â‚¬</span></div>
    </div>
  </section>

  <!-- =========================
       ğŸ“Š Stats
       ========================= -->
  <section id="page-stats" class="page" hidden>
    <h2>Statistiques</h2>
    <div id="stats-controls">
      <button data-period="day">Jour</button>
      <button data-period="week">Semaine</button>
      <button data-period="month">Mois</button>
      <button data-period="year">AnnÃ©e</button>
    </div>
    <canvas id="stats-chart" width="600" height="300"></canvas>
    <p class="hint">Les ajouts tardifs sont rÃ©partis uniformÃ©ment sur 24h.</p>
  </section>

  <!-- =========================
       ğŸ“… Calendrier
       ========================= -->
  <section id="page-calendar" class="page" hidden>
    <h2>Calendrier</h2>
    <div id="calendar-root"></div>
  </section>

  <!-- =========================
       ğŸ¯ Habitudes
       ========================= -->
  <section id="page-habits" class="page" hidden>
    <h2>Habitudes & Objectifs</h2>
    <div>
      <label>Clopes / jour :
        <input type="number" id="habit-cigs" min="0" />
      </label>
      <label>Joints / jour :
        <input type="number" id="habit-weed" min="0" />
      </label>
      <label>Alcool / jour :
        <input type="number" id="habit-alcohol" min="0" />
      </label>
      <label>Date dâ€™arrÃªt :
        <input type="date" id="habit-stopDate" />
      </label>
    </div>
  </section>

  <!-- =========================
       âš™ï¸ RÃ©glages
       ========================= -->
  <section id="page-settings" class="page">
  <div id="settings-root"></div>
</section>
  <!-- =========================
       ğŸ§° Console
       ========================= -->
  <section id="debug-section" class="page" hidden>
    <h2>Console</h2>
    <div id="console-content"></div>
    <button id="console-clear">Vider</button>
    <button id="console-copy">Copier</button>
  </section>

  <!-- =========================
       ğŸ’¬ Conseils dynamiques
       ========================= -->
  <div id="advice-panel"></div>

  <!-- =========================
       ğŸ“œ Scripts
       ========================= -->
  <script src="./js/vendor/chart.umd.min.js"></script>
  <script src="./js/state.js"></script>
  <script src="./js/settings.js"></script>
  <script src="./js/charts.js"></script>
  <script src="./js/calendar.js"></script>
  <script src="./js/advices.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>
