<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>StopAddict — Phase 2</title>
<style>
:root {
  --bg:#0b1220;
  --panel:#0e1729;
  --card:#111a2e;
  --grid:#1a2642;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --ok:#10b981;
  --err:#ef4444;
  --blue:#3b82f6;
  --green:#22c55e;
  --orange:#f59e0b;
}

/* RESET + STRUCTURE */
*{box-sizing:border-box;margin:0;padding:0;}
body{background:var(--bg);color:var(--text);font-family:Inter,Arial,sans-serif;}
main{display:flex;flex-direction:column;align-items:center;padding-bottom:90px;}
header{position:fixed;top:0;left:0;right:0;background:var(--panel);color:var(--text);
  display:flex;justify-content:space-between;align-items:center;padding:8px 16px;
  border-bottom:1px solid var(--grid);z-index:3;}
header h1{font-size:18px;cursor:pointer;}
header .date{font-size:14px;opacity:.8;}

/* DEBUG CONSOLE */
.debug-console{
  position:fixed;top:64px;left:0;right:0;
  background:rgba(0,0,0,.95);color:#b5f7b7;
  font:14px/1.4 ui-monospace,Menlo,monospace;
  padding:6px 8px;max-height:50vh;overflow:auto;
  z-index:9999;border-bottom:2px solid #34d399;
  display:none;
}

/* NAV */
nav{position:fixed;bottom:0;left:0;right:0;background:var(--panel);
  display:flex;justify-content:space-around;align-items:center;height:56px;
  border-top:1px solid var(--grid);z-index:2;}
nav button{background:none;border:none;color:var(--text);font-size:14px;cursor:pointer;}
nav button.active{color:var(--blue);}

/* SECTIONS */
section{display:none;padding:70px 12px 60px;width:100%;max-width:800px;}
section.active{display:block;}
.cards{display:flex;justify-content:space-around;margin-top:20px;}
.card{background:var(--card);border-radius:10px;padding:10px 16px;text-align:center;width:30%;}
.card .val{font-size:28px;color:var(--blue);}
.card h3{font-size:14px;margin-top:4px;color:var(--muted);}
.btn-row{display:flex;justify-content:center;gap:8px;margin-top:10px;}
.btn{background:var(--blue);color:#fff;border:none;border-radius:8px;padding:6px 12px;cursor:pointer;}
.btn.alt{background:var(--muted);}
.bar-top{display:flex;justify-content:space-around;padding:8px;background:var(--panel);border-radius:8px;margin-top:8px;}
.bar-top div{font-size:16px;color:var(--ok);}
#advice-bar{background:var(--orange);color:#111;padding:8px;margin-top:20px;border-radius:8px;}

/* STATS */
#stats-wrap{display:flex;flex-direction:column;gap:16px;max-height:80vh;overflow:auto;}
.chart-box{background:var(--card);padding:10px;border-radius:8px;min-height:280px;position:relative;}
#chartRange{display:flex;gap:6px;justify-content:center;margin-bottom:8px;}
.btn.pill{background:var(--grid);border-radius:20px;padding:4px 10px;font-size:13px;color:var(--text);cursor:pointer;}
.btn.pill.active{background:var(--blue);color:#fff;}
.stats-actions{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:12px;}
.stats-header{display:flex;justify-content:space-around;font-size:15px;color:var(--muted);}

/* PLACEHOLDERS */
.placeholder{text-align:center;margin-top:40px;color:var(--muted);font-size:15px;}
</style>
</head>

<body>
<header>
  <h1 id="hdr-title">StopAddict</h1>
  <div class="date" id="hdr-date"></div>
</header>

<div id="debug-console" class="debug-console"></div>

<main>
  <!-- ACCUEIL -->
  <section id="ecran-accueil" class="active">
    <div class="bar-top">
      <div id="bar-clopes">0</div>
      <div id="bar-joints">0</div>
      <div id="bar-alcool">0</div>
    </div>
    <div class="cards">
      <div class="card" id="card-cigs"><div class="val">0</div><h3>Cigarettes</h3>
        <div class="btn-row"><button id="cl-moins" class="btn alt">−</button><button id="cl-plus" class="btn">+</button></div>
      </div>
      <div class="card" id="card-weed"><div class="val">0</div><h3>Joints</h3>
        <div class="btn-row"><button id="j-moins" class="btn alt">−</button><button id="j-plus" class="btn">+</button></div>
      </div>
      <div class="card" id="card-alcool"><div class="val">0</div><h3>Alcool</h3>
        <div class="btn-row"><button id="a-moins" class="btn alt">−</button><button id="a-plus" class="btn">+</button></div>
      </div>
    </div>
    <div id="advice-bar">Conseils à venir (Phase 3)</div>
  </section>

  <!-- STATS -->
  <section id="ecran-stats">
    <div class="stats-header" id="stats-summary">
      <div>Cigarettes: 0</div>
      <div>Joints: 0</div>
      <div>Alcool: 0</div>
    </div>
    <div id="chartRange">
      <div class="btn pill active" data-range="day">Jour</div>
      <div class="btn pill" data-range="week">Semaine</div>
      <div class="btn pill" data-range="month">Mois</div>
      <div class="btn pill" data-range="year">Année</div>
    </div>
    <div id="stats-wrap">
      <div class="chart-box"><canvas id="chart-consommations"></canvas></div>
      <div class="chart-box"><canvas id="chart-cout-eco"></canvas></div>
    </div>
    <div class="stats-actions">
      <button class="btn alt">Exporter la vue actuelle</button>
      <button class="btn alt">Importer CSV/JSON</button>
      <button class="btn">Exporter historique complet (Excel)</button>
    </div>
  </section>

  <!-- CALENDRIER -->
  <section id="ecran-calendrier">
    <div class="placeholder">Calendrier à venir (Phase 3)</div>
  </section>

  <!-- HABITUDES -->
  <section id="ecran-habitudes">
    <div class="placeholder">Habitudes à venir (Phase 3)</div>
  </section>

  <!-- REGLAGES -->
  <section id="ecran-reglages">
    <div class="placeholder">Réglages à venir (Phase 3)</div>
  </section>
</main>

<nav>
  <button data-screen="ecran-accueil" class="active">Accueil</button>
  <button data-screen="ecran-stats">Stats</button>
  <button data-screen="ecran-calendrier">Calendrier</button>
  <button data-screen="ecran-habitudes">Habitudes</button>
  <button data-screen="ecran-reglages">Réglages</button>
</nav>

<!-- Vendor Chart.js -->
<script src="./js/vendor/chart.umd.min.js"></script>
<!-- App -->
<script type="module" src="./js/app.js"></script>
</body>
</html>
