/* ===== StopAddict – STYLE MONOLITHE (full replace) ===== */

/* Reset & base */
* { box-sizing:border-box; }
html, body { height:100%; }
body {
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:#0f172a;                   /* texte foncé */
  background:#f5f7fb;             /* fond clair type app */
}

/* Utilitaires */
.hide{ display:none !important; }
.muted{ opacity:.65; }

/* En-tête */
.app-header{
  position:sticky; top:0; z-index:10;
  display:grid; grid-template-columns:1fr auto; align-items:center;
  gap:.5rem; padding:.75rem 1rem;
  background:#ffffff; color:#0f172a;
  border-bottom:1px solid #e6e8ef; box-shadow:0 1px 6px rgba(16,24,40,.05);
}
.header-left h1{ margin:0; font-size:1.15rem; font-weight:800; letter-spacing:.2px; }
.date-line{ display:flex; gap:.5rem; align-items:center; font-size:.9rem; color:#4b5563; }
.status-dot{ width:1.1rem; height:1.1rem; border-radius:50%; display:inline-flex; align-items:center; justify-content:center; background:#e5e7eb; font-size:.8rem; }

/* Onglets (haut, simple) */
.tabs{
  display:flex; gap:.4rem; padding:.5rem .75rem; background:#fff;
  border-bottom:1px solid #e6e8ef; position:sticky; top:56px; z-index:9;
}
.tab{
  appearance:none; border:1px solid #e6e8ef; background:#fff; color:#0f172a;
  padding:.55rem .9rem; border-radius:.7rem; font-weight:700; cursor:pointer;
}
.tab.active{ background:#0ea5e9; color:#fff; border-color:#0ea5e9; }

/* Pages conteneur */
.pages{ padding:1rem; max-width:1100px; margin:0 auto; }

/* ===== Accueil – Compteurs (style cartes monolithe) ===== */
.counters-grid{
  display:grid; gap:1rem;
  grid-template-columns: repeat(2,1fr);
}
@media (min-width:980px){ .counters-grid{ grid-template-columns: repeat(5,1fr); } }

.counter-card{
  position:relative;
  background:#ffffff; border:1px solid #e6e8ef; border-radius:18px;
  padding:1rem; min-height:162px;
  box-shadow:0 2px 10px rgba(16,24,40,.06);
  display:flex; flex-direction:column; gap:.75rem;
}
.counter-card h2{ margin:0; font-size:1.05rem; font-weight:800; color:#0f172a; }

/* Liseré couleur à gauche (comme le monolithe) */
.counter-card::before{
  content:""; position:absolute; inset:0 auto 0 0; width:6px; border-radius:18px 0 0 18px;
  background:#e5e7eb;
}
#ctr-cigs::before{ background:#3b82f6; }     /* bleu clopes */
#ctr-joints::before{ background:#22c55e; }   /* vert joints */
#ctr-beer::before{ background:#f59e0b; }     /* jaune bière */
#ctr-hard::before{ background:#a855f7; }     /* violet alcool fort */
#ctr-liqueur::before{ background:#ec4899; }  /* rose liqueur */

/* Ligne –1 / valeur / +1 */
.ctr-row{
  display:grid; align-items:center; gap:.75rem;
  grid-template-columns: 82px 1fr 82px;
}
.ctr-val{
  text-align:center; font-size:1.4rem; font-weight:800; color:#0f172a;
  background:#f8fafc; border:1px dashed #e6e8ef; border-radius:12px; padding:.65rem .75rem;
}

/* Boutons ronds – monolithe */
.btn{
  appearance:none; border:0; cursor:pointer;
  transition:transform .04s ease, box-shadow .2s ease, background .2s ease;
  font-weight:800; border-radius:999px;
}
.btn:active{ transform:translateY(1px); }

.btn[data-action="dec"]{
  width:66px; height:66px; font-size:1.4rem; color:#111827;
  background:#e5e7eb; box-shadow:inset 0 -2px 0 rgba(0,0,0,.08);
}
.btn[data-action="dec"]:hover{ background:#dfe3e9; }

.btn[data-action="inc"]{
  width:66px; height:66px; font-size:1.4rem; color:#ffffff;
  background:#22c55e; box-shadow:inset 0 -2px 0 rgba(0,0,0,.12);
}
.btn[data-action="inc"]:hover{ background:#16a34a; }

/* Toggle “Activer” */
.toggle{ display:flex; gap:.5rem; align-items:center; color:#334155; font-weight:600; }
.toggle input{ width:18px; height:18px; }

/* ===== Conseils ===== */
.tips-panel{ margin-top:1rem; }
.tips-card{
  background:#ffffff; border:1px dashed #e6e8ef; border-radius:14px; padding:.8rem;
}
.tip-line{
  display:flex; align-items:flex-start; gap:.5rem;
  background:#fff; border:1px solid #eef1f6; border-radius:10px;
  padding:.55rem .65rem; margin:.45rem 0;
}
.tip-line .emoji{ font-size:1.1rem; }

/* ===== Stats ===== */
.kpi-block{ display:flex; align-items:baseline; gap:1rem; margin-bottom:.6rem; }
.chart-actions{ display:flex; flex-wrap:wrap; gap:.5rem; margin-bottom:.8rem; }
.chart-actions .btn{
  border-radius:.6rem; padding:.5rem .8rem; border:1px solid #e6e8ef; background:#fff; color:#0f172a;
}
.chart-actions .btn.small{ font-size:.9rem; }
.chart-block{
  height:360px; background:#ffffff; border:1px solid #e6e8ef; border-radius:16px;
  box-shadow:0 2px 10px rgba(16,24,40,.06); padding:.75rem;
}
#chart-main{ width:100%; height:100%; }

/* ===== Calendrier (V2) – habillage clair) ===== */
.calendar-toolbar{
  display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between; gap:.6rem; margin-bottom:.8rem;
}
.btn.small{ padding:.42rem .7rem; font-size:.9rem; border-radius:.55rem; }
.toolbar-center .active{ outline:2px solid #0ea5e9; }

.cal-grid{
  background:#ffffff; border:1px solid #e6e8ef; border-radius:16px; overflow:hidden;
  box-shadow:0 2px 10px rgba(16,24,40,.06);
}
.cal-head{ display:grid; grid-template-columns:repeat(7,1fr); background:#f3f4f6; border-bottom:1px solid #e6e8ef; }
.cal-head>div{ padding:.55rem; text-align:center; font-weight:800; color:#0f172a; }
.cal-body{ display:grid; grid-template-columns:repeat(7,1fr); }
.cal-cell{ min-height:96px; border-right:1px solid #eef1f6; border-bottom:1px solid #eef1f6; padding:.5rem; position:relative; }
.cal-cell:nth-child(7n){ border-right:0; }
.cal-other{ opacity:.45; }
.cal-today{ outline:2px solid #0ea5e9; outline-offset:-2px; border-radius:6px; }
.cal-day{ font-weight:800; color:#0f172a; }
.cal-mini{ position:absolute; right:.4rem; bottom:.4rem; display:flex; gap:.25rem; }
.mini-dot{ display:inline-block; padding:.05rem .35rem; border-radius:.5rem; background:#e6e8ef; color:#111827; font-size:.75rem; }
.mini-euro{ display:inline-block; padding:.05rem .3rem; border-radius:.5rem; border:1px solid #d1d5db; font-size:.75rem; }

/* Détails (jour/semaine) */
.cal-details{ margin-top:.8rem; }
.cal-details .cal-box{
  background:#ffffff; border:1px solid #e6e8ef; border-radius:16px; padding:1rem;
  box-shadow:0 2px 10px rgba(16,24,40,.06);
}
.cal-links{ display:flex; gap:.5rem; margin-top:.7rem; }

/* ===== Habitudes / Réglages (grilles propres) ===== */
.section-title{ margin:1rem 0 .6rem; font-size:1.05rem; font-weight:800; }
.grid-2{ display:grid; grid-template-columns:repeat(2,1fr); gap:.7rem; }
@media (max-width:760px){ .grid-2{ grid-template-columns:1fr; } }

.grid-2 label{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  background:#ffffff; border:1px solid #e6e8ef; border-radius:12px; padding:.65rem .8rem;
}
.grid-2 input, .grid-2 select{
  width:150px; max-width:50vw;
  padding:.52rem .6rem; border-radius:10px; border:1px solid #d1d5db; background:#fff; color:#0f172a;
}

.actions{ display:flex; flex-wrap:wrap; gap:.5rem; margin:.7rem 0; }
.actions .btn{
  border:1px solid #e6e8ef; background:#fff; padding:.55rem .85rem; border-radius:.6rem; font-weight:800; color:#0f172a;
}
.actions .btn:hover{ background:#f3f4f6; }

/* ===== Debug & Agegate ===== */
#debug-console{
  background:#0b1020; color:#eaf0ff; border-radius:10px; border:1px solid #233355;
  padding:.6rem; height:160px; overflow:auto;
}
.debug-line{ font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size:.86rem; }

dialog{ border:0; border-radius:16px; background:#ffffff; color:#0f172a; }
dialog::backdrop{ background:rgba(2,6,23,.45); }
.agegate{ min-width:280px; display:grid; gap:.7rem; padding:1rem; }
.agegate h3{ margin:.1rem 0; font-size:1.15rem; font-weight:900; }
.agegate .actions{ justify-content:flex-end; }
.agegate a{ color:#0ea5e9; text-decoration:underline; }

/* Petites retouches icônes KPI (en-tête) */
.kpis{ display:flex; gap:.5rem; align-items:center; }
.kpi{
  background:#fff; border:1px solid #e6e8ef; border-radius:10px; padding:.35rem .55rem;
  display:flex; align-items:center; gap:.35rem; font-weight:700;
}
